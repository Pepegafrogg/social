"use strict";(self.webpackChunkwhat=self.webpackChunkwhat||[]).push([[838],{3838:function(e,s,t){t.r(s),t.d(s,{default:function(){return ee}});var i=t(2791),a="Header_header__GS3ez",o="Header_header__img__RH0XN",r=t(184),n=function(){return(0,r.jsx)("div",{className:a,children:(0,r.jsx)("img",{className:o,src:"http://green-forest36.ru/wp-content/uploads/2020/04/2-1.jpg",alt:""})})},l="Main_main__sqtny",c=t(8687),d=t(6508),u=t(6139),f=t(704),m=t(77),p=t(5558),x="MyPost_post__M2UW-",j="MyPost_postText__+AQNl",h="MyPost_postLikes__Ly3YA",_=function(e){return(0,r.jsxs)("div",{className:x,children:[(0,r.jsx)("div",{className:j,children:e.post}),(0,r.jsxs)("div",{className:h,children:["likes: ",e.likes]})]})},v="MyPosts_main__V2bPk",b="MyPosts_formname__UdwmH",g="MyPosts_form__kk4D-",N="MyPosts_listOfPosts__suJiJ",P=(0,m.D)(5),k=(0,f.Z)({form:"addPost"})((function(e){return(0,r.jsxs)("form",{onSubmit:e.handleSubmit,className:g,children:[(0,r.jsx)(u.Z,{component:p.Kx,name:"postText",placeholder:"Write your post",validate:[m.C,P]}),(0,r.jsx)("button",{children:"add post"})]})})),y=function(e){var s=e.posts.map((function(e){return(0,r.jsx)(_,{id:e.id,post:e.post,likes:e.likes},e.id)}));return(0,r.jsxs)("div",{className:v,children:[(0,r.jsx)("div",{className:b,children:"My posts"}),(0,r.jsx)(k,{onSubmit:function(s){e.addPost(s.postText)}}),(0,r.jsx)("div",{className:N,children:s})]})},S={addPost:d.q2},M=(0,c.$j)((function(e){return{posts:e.profilePage.postsData}}),S)(y),I=t(8683),D=t(885),F=t(2442),Z=t(5559),w="Profile_profile__RVcGJ",C="Profile_profileImg__RbAgh",O="Profile_changeProfileImg__c3Uwp",A=function(e){var s=(0,i.useState)(!1),t=(0,D.Z)(s,2),a=t[0],o=t[1],n=(0,i.useState)(e.status),l=(0,D.Z)(n,2),c=l[0],d=l[1];(0,i.useEffect)((function(){d(e.status)}),[e.status]);return(0,r.jsx)("div",{children:a?(0,r.jsxs)("div",{className:e.class,children:[" ",(0,r.jsx)("input",{onChange:function(e){d(e.target.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(c)},value:c})," "]}):(0,r.jsxs)("div",{className:e.class,style:{display:"flex"},children:[(0,r.jsx)("b",{children:"Status:"}),(0,r.jsx)("div",{style:{marginLeft:"7px"},onDoubleClick:function(){o(!0)},children:e.status})," "]})})};function R(e){var s=e.contactTitle,t=e.contactValue;return(0,r.jsxs)("div",{style:{paddingLeft:"10px",marginBottom:"5px"},children:[(0,r.jsx)("b",{children:s}),": ",t]})}var U="ProfileData_profileName__3j9PH",E="ProfileData_profileOtherInfo__cQ6KX",J="ProfileData_profileInfo__Bg78S",L="ProfileData_profileItem__FkXgA";function T(e){return(0,r.jsxs)("div",{className:J,children:[e.isOwner&&(0,r.jsx)("button",{onClick:e.activateEditMode,children:"Edit"}),(0,r.jsxs)("div",{className:U,children:[(0,r.jsx)("b",{children:"Full name: "}),e.profile.fullName]}),(0,r.jsxs)("div",{className:E,children:[(0,r.jsx)(A,{class:L,status:e.status,profile:e.profile,updateStatus:e.updateStatus}),(0,r.jsxs)("div",{className:L,children:[(0,r.jsx)("b",{children:"Looking for a job: "}),e.profile.lookingForAJob?"yes":"no"]}),(0,r.jsxs)("div",{className:L,children:[(0,r.jsx)("b",{children:"My proffesional skills: "}),e.profile.lookingForAJobDescription]}),(0,r.jsxs)("div",{className:L,children:[(0,r.jsx)("b",{children:"About me: "}),e.profile.aboutMe]}),(0,r.jsxs)("div",{className:L,children:[(0,r.jsx)("b",{children:"Contacts: "}),"  ",Object.keys(e.profile.contacts).map((function(s){return(0,r.jsx)(R,{contactTitle:s,contactValue:e.profile.contacts[s]},s)}))]})]})]})}var q="ProfileDataReduxForm_profileName__T+Pk4",H="ProfileDataReduxForm_profileOtherInfo__PKfgq",V="ProfileDataReduxForm_profileInfo__7+Gq9",B="ProfileDataReduxForm_profileItem__e4UOS",z="ProfileDataReduxForm_contactItem__1Jm+g",G="ProfileDataReduxForm_formSummaryError__NrzzB",K=(0,f.Z)({form:"editProfile"})((function(e){return(0,r.jsxs)("form",{onSubmit:e.handleSubmit,className:V,children:[(0,r.jsx)("button",{onClick:e.deactivateEditMode,children:"Save"}),e.isOwner&&(0,r.jsx)("button",{onClick:e.activateEditMode,children:"Edit"}),e.error&&(0,r.jsxs)("div",{className:G,children:[" ",e.error," "]}),(0,r.jsxs)("div",{className:q,children:[(0,r.jsx)("b",{children:"Full name: "})," ",(0,r.jsx)(u.Z,{component:"input",name:"fullName"})]}),(0,r.jsxs)("div",{className:H,children:[(0,r.jsx)(A,{class:B,status:e.status,profile:e.profile,updateStatus:e.updateStatus}),(0,r.jsxs)("div",{className:B,children:[(0,r.jsx)("b",{children:"Looking for a job: "}),(0,r.jsx)(u.Z,{component:"input",name:"lookingForAJob",type:"checkbox"})]}),(0,r.jsxs)("div",{className:B,children:[(0,r.jsx)("b",{children:"My proffesional skills: "}),(0,r.jsx)(u.Z,{component:"textarea",name:"lookingForAJobDescription"})]}),(0,r.jsxs)("div",{className:B,children:[(0,r.jsx)("b",{children:"About me: "}),(0,r.jsx)(u.Z,{component:"textarea",name:"aboutMe"})]}),(0,r.jsxs)("div",{className:B,children:[(0,r.jsx)("b",{children:"Contacts: "}),"  ",Object.keys(e.profile.contacts).map((function(e){return(0,r.jsx)("div",{className:z,children:(0,r.jsxs)("b",{children:[e,": ",(0,r.jsx)(u.Z,{component:"input",name:"contacts.".concat(e)})]})},e)}))]})]})]})})),X=function(e){var s=(0,i.useState)(!1),t=(0,D.Z)(s,2),a=t[0],o=t[1];if(!e.profile)return(0,r.jsx)(F.Z,{});return(0,r.jsxs)("div",{className:w,children:[(0,r.jsxs)("div",{className:C,children:[(0,r.jsx)("img",{src:e.profile.photos.large||Z.C,alt:""}),(0,r.jsx)("div",{className:O,children:e.isOwner&&(0,r.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&e.savePhoto(s.target.files[0])}})})]}),a?(0,r.jsx)(K,{initialValues:e.profile,onSubmit:function(s){e.saveProfile(s).then((function(){o(!1)})),o(!1)},profile:e.profile}):(0,r.jsx)(T,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){o(!0)}})]})},Q=t(7689),W=t(7781),$={getUserProfile:d.et,getStatus:d.lR,updateStatus:d.Nf,savePhoto:d.Ju,saveProfile:d.Ii},Y=(0,W.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isLogin:e.auth.Islogin}}),$))((function(e){var s=(0,Q.UO)(),t=(0,Q.s0)();return(0,i.useEffect)((function(){var i=s.userId;i||(i=e.authUserId)||t("/login"),e.getUserProfile(i),e.getStatus(i)}),[e.authUserId]),(0,r.jsx)(X,(0,I.Z)((0,I.Z)({},e),{},{profile:e.profile,isOwner:!s.userId}))})),ee=function(e){return(0,r.jsxs)("div",{className:l,children:[(0,r.jsx)(n,{}),(0,r.jsx)(Y,{}),(0,r.jsx)(M,{})]})}}}]);
//# sourceMappingURL=838.565baad9.chunk.js.map